var rewards=[{amount:12e4,reward:"桑名江",highlight:!0},{amount:116e3,reward:"冷却材 × 4,000",highlight:""},{amount:112e3,reward:"玉鋼 × 4,000",highlight:""},{amount:108e3,reward:"木炭 × 4,000",highlight:""},{amount:104e3,reward:"砥石 × 4,000",highlight:""},{amount:1e5,reward:"松井江",highlight:!0},{amount:95e3,reward:"蘇言機 × 2",highlight:""},{amount:9e4,reward:"太鼓",highlight:""},{amount:85e3,reward:"鈴",highlight:""},{amount:8e4,reward:"手紙一式",highlight:""},{amount:75e3,reward:"笛",highlight:""},{amount:7e4,reward:"豊前江",highlight:!0},{amount:67500,reward:"琴",highlight:""},{amount:65e3,reward:"三味線",highlight:""},{amount:62500,reward:"旅装束",highlight:""},{amount:6e4,reward:"旅道具",highlight:""},{amount:57500,reward:"冷却材 × 3,000",highlight:""},{amount:55e3,reward:"玉鋼 × 3,000",highlight:""},{amount:52500,reward:"木炭 × 3,000",highlight:""},{amount:51e3,reward:"砥石 × 3,000",highlight:""},{amount:5e4,reward:"篭手切江",highlight:!0},{amount:49e3,reward:"槍兵˙特上",highlight:""},{amount:48e3,reward:"盾兵˙特上",highlight:""},{amount:47e3,reward:"重騎兵˙特上",highlight:""},{amount:46e3,reward:"重歩兵˙特上",highlight:""},{amount:45e3,reward:"銃兵˙特上",highlight:""},{amount:44e3,reward:"投石兵˙特上",highlight:""},{amount:43e3,reward:"軽騎兵˙特上",highlight:""},{amount:42e3,reward:"軽歩兵˙特上",highlight:""},{amount:41e3,reward:"弓兵˙特上",highlight:""},{amount:4e4,reward:"小判箱˙大 × 2",highlight:""},{amount:39e3,reward:"手紙一式",highlight:""},{amount:38e3,reward:"遠征呼び戻し鳩 × 2",highlight:""},{amount:37e3,reward:"旅装束",highlight:""},{amount:36e3,reward:"御札˙竹",highlight:""},{amount:35e3,reward:"旅道具",highlight:""},{amount:34e3,reward:"玉鋼 × 2,500",highlight:""},{amount:33e3,reward:"木炭 × 2,500",highlight:""},{amount:32e3,reward:"砥石 × 2,500",highlight:""},{amount:31e3,reward:"冷却材 × 2,500",highlight:""},{amount:3e4,reward:"仙人団子",highlight:""},{amount:29e3,reward:"御札˙梅",highlight:""},{amount:28e3,reward:"手伝い札 × 3",highlight:""},{amount:27e3,reward:"幕の内弁当",highlight:""},{amount:26e3,reward:"お守り",highlight:""},{amount:25e3,reward:"鈴",highlight:""},{amount:24e3,reward:"遠征呼び戻し鳩",highlight:""},{amount:23e3,reward:"太鼓",highlight:""},{amount:22e3,reward:"蘇言機 × 2",highlight:""},{amount:21e3,reward:"幕の内弁当 × 2",highlight:""},{amount:2e4,reward:"手伝い札 × 2",highlight:""},{amount:19e3,reward:"木炭 × 1,000",highlight:""},{amount:18e3,reward:"砥石 × 1,000",highlight:""},{amount:17e3,reward:"冷却材 × 1,000",highlight:""},{amount:16e3,reward:"三味線",highlight:""},{amount:15e3,reward:"玉鋼 × 1,000",highlight:""},{amount:14e3,reward:"琴",highlight:""},{amount:13e3,reward:"精鋭兵˙特上",highlight:""},{amount:12e3,reward:"笛",highlight:""},{amount:11e3,reward:"仙人団子",highlight:""},{amount:1e4,reward:"小判箱˙大 × 2",highlight:""},{amount:9e3,reward:"蘇言機",highlight:""},{amount:8e3,reward:"盾兵˙特上",highlight:""},{amount:7e3,reward:"手伝の札 × 2",highlight:""},{amount:6e3,reward:"小判箱˙大",highlight:""},{amount:5e3,reward:"仙人団子",highlight:""},{amount:4500,reward:"銃兵˙特上",highlight:""},{amount:4e3,reward:"槍兵˙特上",highlight:""},{amount:3500,reward:"投石兵˙特上",highlight:""},{amount:3e3,reward:"砥石 × 500",highlight:""},{amount:2500,reward:"冷却材 × 500",highlight:""},{amount:2e3,reward:"玉鋼 × 500",highlight:""},{amount:1500,reward:"木炭 × 500",highlight:""},{amount:1e3,reward:"重歩兵˙特上",highlight:""},{amount:750,reward:"重騎兵˙特上",highlight:""},{amount:500,reward:"小判箱˙中 × 2",highlight:""},{amount:300,reward:"軽騎兵˙特上",highlight:""},{amount:200,reward:"軽歩兵˙特上",highlight:""},{amount:100,reward:"手伝い札",highlight:!0}],period={startDate:"2019-12-10",endDate:"2019-12-24"},currentAmountEl=$("#currentAmount"),rewardProgressEl=$("#rewardProgress"),highlightCookie=$.cookie("toukenRanbuVOTHLArray"),highlightCookieArray=[],today=new Date,endDate=new Date(period.endDate);if(null==highlightCookie){var highlightArray=[];$.each(rewards,function(h,e){1==e.highlight&&highlightArray.push(e.amount)}),highlightCookieArray=highlightArray,$.cookie("toukenRanbuVOTHLArray",highlightCookieArray,{expires:30})}else highlightCookieArray=highlightCookie.split(","),$.each(highlightCookieArray,function(h,e){highlightCookieArray[h]=parseInt(e)});function createList(){var h=currentAmountEl.val(),e=getDiffDays();$.each(rewards,function(r,t){var a=t.amount,i=getNumbers(a,h,e),g='<li class="progress mb-3 d-flex'+(highlightCookieArray.includes(t.amount)?" hl":"")+'" data-target="'+a+'"><div class="progress-bar pt-1 pb-1" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: '+i.percentage+'%;"><span class="text"><sup class="mr-1">'+numberWithCommas(a)+"</sup>"+t.reward+" <sub> / "+i.percentage+'%</sub></span></div><div class="daily">'+i.dailyText+"</div></li>";rewardProgressEl.append(g)}),$("li",rewardProgressEl).click(function(){$(this).toggleClass("hl");var h=$(this).data("target");highlightCookieArray.includes(h)?highlightCookieArray.pop(h):highlightCookieArray.push(h),$.cookie("toukenRanbuVOTHLArray",highlightCookieArray,{expires:30})})}function numberWithCommas(h){return h.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function getDiffDays(){var h=new Date,e=new Date(period.endDate),r=Math.abs(e.getTime()-h.getTime());return Math.ceil(r/864e5)-1}function getNumbers(h,e,r){var t=Math.round(e/h*100);t=t>100?100:t;var a=Math.floor((h-e)/r),i="";return today<endDate&&(i=a>0?"每天至少需 "+numberWithCommas(a)+" 玉":'<span class="get">Get!</span>'),{percentage:t,dailyText:i}}$.each(period,function(h,e){$("#"+h).text(e)}),currentAmountEl.val($.cookie("toukenRanbuVOTAmount")),createList(),currentAmountEl.change(function(){var h=$(this).val(),e=getDiffDays();$.each(rewards,function(r,t){var a=t.amount,i=getNumbers(a,h,e),g=$('.progress[data-target="'+a+'"]');$(".progress-bar",g).css("width",i.percentage+"%"),$(".text sub",g).text(i.percentage+"%"),$(".daily",g).html(i.dailyText)}),$.cookie("toukenRanbuVOTAmount",h,{expires:30})}),$("#addAmount").change(function(){var h=""==currentAmountEl.val()?0:parseInt(currentAmountEl.val()),e=parseInt($(this).val())+h;currentAmountEl.val(e),currentAmountEl.trigger("change"),$(this).val("")}),rewardProgressEl.after('<iframe class="likeCoin mt-2" data-v-36f4ac99="" src="https://button.like.co/in/embed/highlysensitivecat/button?referrer=https://redsuncat.github.io/toukenRanbu/VOT/2019-summer.html" frameborder="0" />');